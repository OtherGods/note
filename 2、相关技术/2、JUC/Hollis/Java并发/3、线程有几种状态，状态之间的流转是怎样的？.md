#çº¿ç¨‹çŠ¶æ€ 
# å…¸å‹å›ç­”

Javaä¸­çº¿ç¨‹çš„çŠ¶æ€åˆ†ä¸º6ç§ï¼š
1. åˆå§‹(NEW)ï¼šæ–°åˆ›å»ºäº†ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡ï¼Œä½†è¿˜æ²¡æœ‰è°ƒç”¨start()æ–¹æ³•ã€‚
2. è¿è¡Œ(RUNNABLE)ï¼šJavaçº¿ç¨‹ä¸­å°†å°±ç»ªï¼ˆREADYï¼‰å’Œè¿è¡Œä¸­ï¼ˆRUNNINGï¼‰ä¸¤ç§çŠ¶æ€ç¬¼ç»Ÿçš„ç§°ä¸ºâ€œè¿è¡Œâ€ã€‚
   - å°±ç»ªï¼ˆREADYï¼‰:çº¿ç¨‹å¯¹è±¡åˆ›å»ºåï¼Œå…¶ä»–çº¿ç¨‹(æ¯”å¦‚mainçº¿ç¨‹ï¼‰è°ƒç”¨äº†è¯¥å¯¹è±¡çš„start()æ–¹æ³•ã€‚è¯¥çŠ¶æ€çš„çº¿ç¨‹ä½äºå¯è¿è¡Œçº¿ç¨‹æ± ä¸­ï¼Œç­‰å¾…è¢«çº¿ç¨‹è°ƒåº¦é€‰ä¸­å¹¶åˆ†é…cpuä½¿ç”¨æƒã€‚
   - è¿è¡Œä¸­ï¼ˆRUNNINGï¼‰ï¼šå°±ç»ª(READY)çš„çº¿ç¨‹è·å¾—äº†cpu æ—¶é—´ç‰‡ï¼Œå¼€å§‹æ‰§è¡Œç¨‹åºä»£ç ã€‚
3. é˜»å¡(BLOCKED)ï¼šè¡¨ç¤ºçº¿ç¨‹é˜»å¡äºé”ï¼ˆå…³äºé”ï¼Œåœ¨åé¢ç« èŠ‚ä¼šä»‹ç»ï¼‰ã€‚
4. ç­‰å¾…(WAITING)ï¼šè¿›å…¥è¯¥çŠ¶æ€çš„çº¿ç¨‹éœ€è¦ç­‰å¾…å…¶ä»–çº¿ç¨‹åšå‡ºä¸€äº›ç‰¹å®šåŠ¨ä½œï¼ˆé€šçŸ¥æˆ–ä¸­æ–­ï¼‰ã€‚
5. è¶…æ—¶ç­‰å¾…(TIMED_WAITING)ï¼šè¯¥çŠ¶æ€ä¸åŒäºWAITINGï¼Œå®ƒå¯ä»¥åœ¨æŒ‡å®šçš„æ—¶é—´åè‡ªè¡Œè¿”å›ã€‚
6. ç»ˆæ­¢(TERMINATED)ï¼šè¡¨ç¤ºè¯¥çº¿ç¨‹å·²ç»æ‰§è¡Œå®Œæ¯•ã€‚
çŠ¶æ€æµè½¬å¦‚å›¾ï¼š
![1.png](https://raw.githubusercontent.com/OtherGods/MaterialImage/main/img/202507031736359.png)

# æ‹“å±•çŸ¥è¯†

## WAITINGå’ŒTIMED_WAITçš„åŒºåˆ«ï¼Ÿ

WAITINGæ˜¯ç­‰å¾…çŠ¶æ€ï¼Œåœ¨Javaä¸­ï¼Œè°ƒç”¨waitæ–¹æ³•æ—¶ï¼Œçº¿ç¨‹ä¼šè¿›å…¥åˆ°WAITINGçŠ¶æ€ï¼Œè€ŒTIMED_WAITINGæ˜¯è¶…æ—¶ç­‰å¾…çŠ¶æ€ï¼Œå½“çº¿ç¨‹æ‰§è¡Œsleepæ–¹æ³•æ—¶ï¼Œçº¿ç¨‹ä¼šè¿›å…¥TIMED_WAITçŠ¶æ€ã€‚

å¤„äºWAITINGå’ŒTIMED_WAITçš„çº¿ç¨‹ï¼Œéƒ½æ˜¯ä¼šè®©å‡ºCPUçš„ï¼Œè¿™æ—¶å€™å…¶ä»–çº¿ç¨‹å°±å¯ä»¥è·å¾—CPUæ—¶é—´ç‰‡å¼€å§‹æ‰§è¡Œã€‚ä½†æ˜¯ä»–ä»¬åœ¨å¯¹è±¡çš„é”é‡Šæ”¾ä¸Šé¢å¹¶ä¸ä¸€æ ·ï¼Œå¦‚æœåŠ äº†é”ï¼Œsleepæ–¹æ³•ä¸ä¼šé‡Šæ”¾å¯¹è±¡ä¸Šçš„é”ï¼Œè€Œwaitæ–¹æ³•æ˜¯ä¼šé‡Šæ”¾é”çš„ã€‚

 å› ä¸ºJavaé”çš„ç›®æ ‡æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥waitã€notifyå’ŒnotifyAllé’ˆå¯¹çš„ç›®æ ‡éƒ½æ˜¯å¯¹è±¡ï¼Œæ‰€ä»¥æŠŠä»–ä»¬å®šä¹‰åœ¨Objectç±»ä¸­ã€‚è€Œsleepã€yieldä¸éœ€è¦é‡Šæ”¾é”ï¼Œæ‰€ä»¥ä»–æ˜¯Threadç±»ä¸­çš„ä¸€ä¸ªæ–¹æ³•ã€‚ 

### çº¿ç¨‹äº¤äº’ç›¸å…³æ–¹æ³•

|                   | join(å†…éƒ¨è°ƒç”¨wait)        | wait                  | sleep                 | yield                                                 |
| ----------------- | :-------------------- | --------------------- | --------------------- | ----------------------------------------------------- |
| è®©å‡ºCPU             | è®©                     | è®©                     | è®©                     | è®©                                                     |
| å‚ä¸CPUè°ƒåº¦ï¼ˆæ˜¯å¦æ˜¯å¯è¿è¡ŒçŠ¶æ€ï¼‰ | å¦ï¼Œæ‰§è¡Œå®Œè¿›å…¥çš„ç­‰å¾…çŠ¶æ€          | å¦ï¼Œæ‰§è¡Œå®Œè¿›å…¥çš„ç­‰å¾…çŠ¶æ€          | å¦ï¼Œæ‰§è¡Œå®Œè¿›å…¥çš„ç­‰å¾…çŠ¶æ€          | æ˜¯ã€‚æ‰§è¡Œå®Œè¿›å…¥å¯æ‰§è¡ŒçŠ¶æ€ï¼ˆæ›´åŠ å‡†ç¡®çš„è¯´æ˜¯ï¼šå°±ç»ªçŠ¶æ€ï¼Œè¿™ä¸ªçŠ¶æ€æ˜¯åœ¨æ“ä½œç³»ç»Ÿçš„æœ‰çš„ï¼Œåœ¨Javaä¸­æ²¡æœ‰è¿™ä¸ªçŠ¶æ€ï¼‰ |
| é‡Šæ”¾é”               | é‡Šæ”¾è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„å®ä¾‹å¯¹è±¡ä¸Šçš„é”      | é‡Šæ”¾è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„å®ä¾‹å¯¹è±¡ä¸Šçš„é”      | ä¸é‡Šæ”¾                   | ä¸é‡Šæ”¾                                                   |
| æŠ›å‡ºå¼‚å¸¸              | æŠ›InterruptedException | æŠ›InterruptedException | æŠ›InterruptedException | ä¸æŠ›                                                    |


## ä¸ºä»€ä¹ˆçº¿ç¨‹æ²¡æœ‰RUNNINGçŠ¶æ€

å¯¹äºç°åœ¨çš„åˆ†æ—¶æ“ä½œç³»ç»Ÿæ¥è¯´ï¼Œåœ¨å•CPUæƒ…å†µä¸‹ï¼Œæ‰€æœ‰çš„çº¿ç¨‹å…¶å®éƒ½æ˜¯ä¸²è¡Œæ‰§è¡Œçš„ã€‚ä½†æ˜¯ä¸ºäº†è®©æˆ‘ä»¬çœ‹èµ·æ¥åƒæ˜¯åœ¨å¹¶å‘æ‰§è¡Œï¼Œäººä»¬æŠŠCPUçš„æ‰§è¡Œåˆ†æˆå¾ˆå¤šä¸ªå°çš„æ—¶é—´ç‰‡ã€‚

å“ªä¸ªçº¿ç¨‹å¾—åˆ°æ—¶é—´ç‰‡ï¼Œé‚£ä¸ªçº¿ç¨‹å°±æ‰§è¡Œï¼Œæ—¶é—´ç‰‡åˆ°äº†ä¹‹åï¼Œå°±è¦é‡Šæ”¾å‡ºCPUï¼Œå†é‡æ–°è¿›è¡Œäº‰æŠ¢æ—¶é—´ç‰‡ã€‚

åªè¦æŠŠæ—¶é—´ç‰‡åˆ’åˆ†çš„è¶³å¤Ÿç»†ï¼Œé‚£ä¹ˆå¤šä¸ªç¨‹åºè™½ç„¶åœ¨ä¸æ–­çš„ä¸²è¡Œæ‰§è¡Œï¼Œä½†æ˜¯çœ‹èµ·æ¥ä¹Ÿåƒæ˜¯åœ¨åŒæ—¶æ‰§è¡Œä¸€æ ·ã€‚
![1.png](https://raw.githubusercontent.com/OtherGods/MaterialImage/main/img/202507031737255.png)

é‚£ä¹ˆï¼ŒCPUçš„æ—¶é—´ç‰‡å…¶å®æ˜¯å¾ˆçŸ­çš„ï¼Œä¸€èˆ¬ä¹Ÿå°±æ˜¯10-20æ¯«ç§’å·¦å³ã€‚

é‚£ä¹ˆï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨ä¸€ç§’é’Ÿä¹‹å†…ï¼ŒåŒä¸€ä¸ªçº¿ç¨‹å¯èƒ½ä¸€éƒ¨åˆ†æ—¶é—´å¤„äºREADYçŠ¶æ€ã€ä¸€éƒ¨åˆ†æ—¶é—´å¤„äºRUNNINGçŠ¶æ€ã€‚

é‚£ä¹ˆå¦‚æœï¼Œæ˜ç¡®çš„ç»™çº¿ç¨‹å®šä¹‰å‡ºRUNNINGçŠ¶æ€çš„è¯ï¼Œæœ‰ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼Œå°±æ˜¯è¿™ä¸ªçŠ¶æ€å…¶å®æ˜¯ä¸å‡†çš„ã€‚

å› ä¸ºå½“æˆ‘ä»¬çœ‹åˆ°çº¿ç¨‹æ˜¯RUNNINGçŠ¶æ€çš„æ—¶å€™ï¼Œå¾ˆæœ‰å¯èƒ½ä»–å·²ç»ä¸¢å¤±äº†CPUæ—¶é—´ç‰‡äº†ã€‚

å¯¹äºçº¿ç¨‹çš„çŠ¶æ€ï¼Œæˆ‘ä»¬åªéœ€è¦çŸ¥é“ï¼Œä»–å½“å‰æœ‰æ²¡æœ‰åœ¨"æ­£åœ¨å‚ä¸æ‰§è¡Œ"å°±è¡Œäº†ï¼Œä½•ä¸º"å‚ä¸æ‰§è¡Œ"ï¼Ÿ

å°±æ˜¯ä»–çš„çŠ¶æ€æ˜¯å¯æ‰§è¡Œçš„ï¼Œåªè¦è·å¾—æ—¶é—´ç‰‡ï¼Œå°±èƒ½ç«‹å³æ‰§è¡Œã€‚

é‚£è¿™ä¸å°±æ˜¯RUNNABLEå—ï¼Ÿ

æ‰€ä»¥ï¼ŒJavaå°±æ²¡æœ‰ç»™çº¿ç¨‹å®šä¹‰RUNNINGçŠ¶æ€ï¼Œè€Œæ˜¯å®šä¹‰äº†ä¸€ä¸ªRUNNABLEçŠ¶æ€ã€‚

## IOè¯»å–æ–‡ä»¶æ—¶çº¿ç¨‹çš„çŠ¶æ€

åœ¨Javaä¸­ï¼Œå½“çº¿ç¨‹æ‰§è¡Œç£ç›˜æ–‡ä»¶è¯»å–æ“ä½œæ—¶ï¼Œå…¶çŠ¶æ€åœ¨Javaçš„çº¿ç¨‹æ¨¡å‹ä¸­è¢«æ ‡è®°ä¸ºÂ **`RUNNABLE`**ï¼Œä½†è¿™å¹¶ä¸ä»£è¡¨å®ƒæ­£åœ¨æ¶ˆè€—CPUèµ„æºã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†è§£é‡Šï¼š

### 1.Â **Javaçº¿ç¨‹çŠ¶æ€ï¼š`RUNNABLE`**

- **ä¸ºä»€ä¹ˆæ˜¯`RUNNABLE`ï¼Ÿ**  
    å½“çº¿ç¨‹è°ƒç”¨`FileInputStream.read()`ã€`Files.readAllBytes()`ç­‰é˜»å¡å¼I/Oæ–¹æ³•æ—¶ï¼š
    - JVM è®¤ä¸ºçº¿ç¨‹ä»åœ¨â€œæ‰§è¡Œä»»åŠ¡â€ï¼ˆå› ä¸ºå®ƒåœ¨æ‰§è¡Œæœ¬åœ°æ–¹æ³•ï¼‰ã€‚
    - ä½†å®é™…ä¸Šï¼Œçº¿ç¨‹ä¼šè¢«æ“ä½œç³»ç»ŸæŒ‚èµ·ï¼Œç­‰å¾…ç£ç›˜I/Oå®Œæˆã€‚
    - åœ¨Javaçš„`Thread.State`æšä¸¾ä¸­ï¼Œè¿™ç§ç­‰å¾…I/Oçš„çŠ¶æ€**ä»å½’ç±»ä¸º`RUNNABLE`**ã€‚
- **éªŒè¯ä»£ç ç¤ºä¾‹**ï¼š
```java
public class IOWaitState {
    public static void main(String[] args) throws Exception {
        Thread ioThread = new Thread(() -> {
            try {
                // è¯»å–å¤§æ–‡ä»¶ï¼ˆæ¨¡æ‹Ÿç£ç›˜I/Oé˜»å¡ï¼‰
                byte[] data = Files.readAllBytes(Paths.get("largefile.bin"));
            } catch (IOException e) {
                e.printStackTrace();
            }
        });

        ioThread.start();
        Thread.sleep(1000); // ç­‰å¾…çº¿ç¨‹è¿›å…¥I/Oæ“ä½œ

        // è¾“å‡ºçº¿ç¨‹çŠ¶æ€ï¼šRUNNABLE
        System.out.println("çº¿ç¨‹çŠ¶æ€: " + ioThread.getState());
    }
}
```
ç»“æœï¼š
```java
çº¿ç¨‹çŠ¶æ€: RUNNABLE
```

### 2.Â **æ“ä½œç³»ç»Ÿå±‚é¢çš„çœŸå®çŠ¶æ€**

è™½ç„¶Javaæ ‡è®°ä¸º`RUNNABLE`ï¼Œä½†åœ¨æ“ä½œç³»ç»Ÿå±‚é¢ï¼Œçº¿ç¨‹å¤„äºÂ **é˜»å¡/ä¼‘çœ çŠ¶æ€**ï¼š
- **Linux/Unix**ï¼š  
    é€šè¿‡`top -H -p <pid>`æˆ–`ps -eLf`æŸ¥çœ‹ï¼š
    - çŠ¶æ€ä¸ºÂ **`D`ï¼ˆä¸å¯ä¸­æ–­ç¡çœ ï¼‰**Â æˆ–Â **`S`ï¼ˆå¯ä¸­æ–­ç¡çœ ï¼‰**ã€‚
    - `D`çŠ¶æ€è¡¨ç¤ºçº¿ç¨‹æ­£åœ¨ç­‰å¾…I/Oï¼ˆå¦‚ç£ç›˜è¯»å–ï¼‰ï¼Œä¸èƒ½è¢«ä¿¡å·å”¤é†’ã€‚
- **Windows**ï¼š  
    é€šè¿‡ä»»åŠ¡ç®¡ç†å™¨æˆ–`Process Explorer`ï¼š
    - çŠ¶æ€ä¸ºÂ **`Wait`ï¼ˆç­‰å¾…I/Oå®Œæˆï¼‰**ã€‚

> ğŸ’¡Â **å…³é”®åŒºåˆ«**ï¼šJavaçº¿ç¨‹æ¨¡å‹æŠ½è±¡äº†åº•å±‚ç»†èŠ‚ï¼Œ`RUNNABLE`åŒ…å«â€œæ­£åœ¨è¿è¡Œâ€å’Œâ€œç­‰å¾…ç³»ç»Ÿèµ„æºï¼ˆå¦‚I/Oï¼‰â€ä¸¤ç§æƒ…å†µã€‚