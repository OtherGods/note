并不一定哦！

为了保证对象的内存分配过程中的线程安全性，HotSpot虚拟机提供了一种叫做`TLAB(Thread Local Allocation Buffer)`的技术。

在<font color="red" size=5>线程初始化时，虚拟机会为每个线程分配一块TLAB空间，只给当前线程使用，当需要分配内存时，就在自己的空间上分配</font>，这样就不存在竞争的情况，可以大大提升分配效率。

所以，“堆是线程共享的内存区域”这句话并不完全正确，因为<font color="blue" size=5>TLAB是堆内存的一部分，他在<font color="red" size=5>读取上是线程共享的</font>，但是在<font color="red" size=5>内存分分配上，是线程独享</font>的。</font>

**==`TLAB`的空间其实并不大，所以大对象还是可能需要在堆内存中直接分配==**。那么，对象的内存分配步骤就是先尝试TLAB分配，空间不足之后，再判断是否应该直接进入老年代，然后再确定是在eden分配还是在老年代分配。