# 典型回答

在Java中，想必所有人都不会对`main`方法感到陌生，`main`方法是Java应用程序的入口方法。程序运行时，要执行的第一个方法就是`main`方法。

我们创建的`main`方法的形式都是一样的：
```java
public static void main(String[] args) {

}
```

首先都是`public`的、都是`static`的，返回值都是`void`，方法名都是`main`，入参都是一个字符串数组。

以上的方法声明中，唯一可以改变的的部分就是方法的参数名，你可以把args改成任意你想要使用的名字。

**`main`方法是JVM执行的入口，为了方便JVM调用，所以需要将他的访问权限设置为`public`，并且静态方法可以方便JVM直接调用，无需实例化对象。**

**因为JVM的退出其实是不完全依赖`main`方法的，所以JVM并不会接收`main`方法的返回值，所以给`main`方法定义一个返回值没有任何意义。所以`main`方法的返回值为`void`。**

**为了方便`main`函数可以接受多个字符串参数作为入参，所以他的形参类型被定义为`String[]`。**

## 为什么 `main` 方法是公有的（`public`）？

Java中，可以使用访问控制符来保护对类、变量、方法和构造方法的访问。Java 支持 4 种不同的访问权限。
- `public` : 对 **==所有类可见。使用对象==**：**类、接口、变量、方法**
- `protected` : 对 **==同一包内的类和所有子类可见==**。使用对象：**变量、方法**。 注意：不能修饰类（外部类）
- `default` (即**默认**，什么也不写）: 在 **==同一包内可见==**，不使用任何修饰符。使用对象：**类、接口、变量、方法**
- `private` : 在 **==同一类内可见==**。使用对象：**变量、方法**。 注意：不能修饰类（外部类）

以上四种控制符都可以用来修饰方法，但是被修饰的方法的访问权限就不同了。

而对于`main`方法来说，我们<font color="blue" size=5>需要通过JVM直接调用</font>他，那么就需要他的限定符必须是`public`的，否则是无法访问的。

## 为什么 main 方法是静态的（static）？

`static`是静态修饰符，被他修饰的方法我们称之为静态方法，静态方法有一个特点，那就是**静态方法独立于该类的任何对象，它不依赖类特定的实例，被类的所有实例共享**。只要这个类被加载，Java虚拟机就能根据类名在运行时数据区的方法区内定找到他们。

而对于`main`方法来说，他的调用过程是经历了**类加载**、**链接**和**初始化**的。但是<font color="blue" size=5>如果类并没有被实例化过，这时候如果想要调用一个类中的方法，那么这个方法必须是静态方法</font>，否则是无法调用的。

## 为什么 main 方法没有返回值（void）？

如果大家对于C语言和C++语言有一定的了解的话，就会知道，像 C、C++ 这种以 int 为 main 函数返回值的编程语言。

这个**返回值在是程序退出时的 exit code**，一般被命令解释器或其他外部程序调用已确定流程是否完成。**一般正常情况下用 `0` 返回，==非 `0` 为异常退出==**。

而在Java中，这个退出过程是由JVM进行控制的，在发生以下两种情况时，程序会终止其所有行为并退出：
1. 所有不是后台守护线程的线程全部终止
2. 某个线程调用了`Runtime.getRuntime().halt()`或者`System.exit()`方法，并且安全管理器并不禁止exit操作：[57、什么情况会导致JVM退出？](2、相关技术/3、JVM/Hollis/57、什么情况会导致JVM退出？.md)

上面的两种情况中，第二种情况一旦发生，JVM是不会管`main`方法有没有执行完的，他都会终止所有行为并退出，这时候`main`方法的返回值是没有任何意义的。

所以，`main`方法的返回值就被固定要求为`void`。

## 为什么 main 方法的入参是字符串数组（`String[]`）

**Java应用程序是可以通过==命令行参数==传入**的，从命令行传递的参数可以在java程序中接收，并且可以用作输入。

因为命令行参数最终都是以字符串的形式传递的，并且<font color="red" size=5>有的时候命令行参数不止一个，所以就可能传递多个参数。</font>

这时候，作为Java应用程序执行的入口，main方法就需要能够接受这多个字符串参数，那么就使用字符串数组了。
