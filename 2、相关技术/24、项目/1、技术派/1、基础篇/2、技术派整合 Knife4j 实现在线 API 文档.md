ä»Šå¤©ç”±æˆ‘æ¥ç»™å¤§å®¶è®²ä¸€ä¸‹æŠ€æœ¯æ´¾æ˜¯å¦‚ä½•æ•´åˆ Knife4j æ›¿æ¢ä¸‘é™‹çš„ Swagger å®ç° API æ–‡æ¡£ç”Ÿæˆå’Œ RESTful Web æµ‹è¯•ã€‚

ä¸€èˆ¬åœ¨ä½¿ç”¨ Spring Boot å¼€å‘å‰åç«¯åˆ†ç¦»é¡¹ç›®çš„æ—¶å€™ï¼Œéƒ½ä¼šç”¨åˆ° Swaggerï¼Œä½†éšç€ç³»ç»ŸåŠŸèƒ½çš„ä¸æ–­å¢åŠ ï¼Œæ¥å£æ•°é‡çš„çˆ†ç‚¸å¼å¢é•¿ï¼ŒSwagger çš„ä½¿ç”¨ä½“éªŒå°±ä¼šå˜å¾—è¶Šæ¥è¶Šå·®ï¼Œæ¯”å¦‚è¯·æ±‚å‚æ•°ä¸º JSON çš„æ—¶å€™æ²¡åŠæ³•æ ¼å¼åŒ–ï¼Œè¿”å›ç»“æœæ²¡åŠæ³•æŠ˜å ï¼Œè¿˜æœ‰å°±æ˜¯æ²¡æœ‰æä¾›æœç´¢åŠŸèƒ½ã€‚

è€Œ Knife4j å®Œç¾å¼¥è¡¥äº†è¿™äº›ä¸è¶³ï¼Œèµ‹äºˆäº† Swagger æ›´å¼ºçš„ç”Ÿå‘½åŠ›å’Œè¡¨ç°åŠ›ã€‚

# 1ã€å…³äºSwagger
![image.png](https://raw.githubusercontent.com/OtherGods/MaterialImage/main/img/202307211052936.png)

ä»ä¸¥æ ¼æ„ä¹‰ä¸Šæ¥è®²ï¼ŒSwagger æ˜¯ä¸€å¥—å®Œæ•´çš„ç”¨äºç”Ÿæˆã€æè¿°å’Œè°ƒç”¨ RESTful æ¥å£çš„ Web æœåŠ¡ã€‚å®ƒæä¾›äº†å¾ˆå¤šç»„ä»¶ï¼Œæ¯”å¦‚è¯´ï¼š
1. Swagger Editorï¼šä¸€ä¸ªåœ¨çº¿ç¼–è¾‘å™¨ï¼Œç”¨äºç¼–å†™å’ŒéªŒè¯ OpenAPI è§„èŒƒï¼ˆä»¥å‰å« Swagger è§„èŒƒï¼‰çš„ YAML æˆ– JSON æ–‡ä»¶ã€‚é€šè¿‡ Swagger Editorï¼Œæˆ‘ä»¬å¯ä»¥å¯è§†åŒ–åœ°è®¾è®¡å’Œç¼–è¾‘ API æ–‡æ¡£ï¼ŒåŒæ—¶è¿˜å¯ä»¥å®æ—¶é¢„è§ˆç”Ÿæˆçš„ API æ–‡æ¡£ã€‚
2. Swagger UIï¼šä¸€ä¸ªå¯è§†åŒ–å·¥å…·ï¼Œç”¨äºæ˜¾ç¤ºç”Ÿæˆçš„ API æ–‡æ¡£ã€‚å®ƒå…è®¸æˆ‘ä»¬ç›´æ¥åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹å’Œæµ‹è¯• APIã€‚Swagger UI å¯ä»¥è‡ªåŠ¨ä» OpenAPI è§„èŒƒæ–‡ä»¶ç”Ÿæˆäº¤äº’å¼çš„ API æ–‡æ¡£ã€‚
3. Swagger Codegenï¼šä¸€ä¸ªä»£ç ç”Ÿæˆå™¨ï¼Œç”¨äºç”ŸæˆæœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯ä»£ç ã€‚é€šè¿‡ Swagger Codegenï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ® OpenAPI è§„èŒƒæ–‡ä»¶è‡ªåŠ¨ç”Ÿæˆå„ç§ç¼–ç¨‹è¯­è¨€ï¼ˆå¦‚ Javaã€Pythonã€Ruby ç­‰ï¼‰çš„ API å®¢æˆ·ç«¯ä»£ç ã€æœåŠ¡å™¨ç«¯ä»£ç ï¼Œä»¥åŠ API æ–‡æ¡£ã€‚
![image.png](https://raw.githubusercontent.com/OtherGods/MaterialImage/main/img/202307211058455.png)

è¯´å¾—ç›´ç™½ç‚¹å°±æ˜¯ï¼ŒSwagger å¯ä»¥å°†é¡¹ç›®ä¸­æƒ³è¦æš´éœ²çš„æ¥å£å±•ç¤ºåœ¨é¡µé¢ä¸Šï¼Œè¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥è¿›è¡Œæ¥å£è°ƒç”¨å’Œæµ‹è¯•ï¼Œèƒ½åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šæå‡å¼€å‘çš„æ•ˆç‡ã€‚

æ¯”å¦‚è¯´ï¼Œä¸€ä¸ªåç«¯ç¨‹åºå‘˜å†™äº†ä¸€ä¸ªç™»å½•æ¥å£ï¼Œæƒ³è¦æµ‹è¯•è‡ªå·±å†™çš„æ¥å£æ˜¯å¦ç¬¦åˆé¢„æœŸçš„è¯ï¼Œå°±å¾—å…ˆæ¨¡æ‹Ÿç”¨æˆ·ç™»å½•çš„è¡Œä¸ºï¼ŒåŒ…æ‹¬æ­£å¸¸çš„è¡Œä¸ºï¼ˆè¾“å…¥æ­£ç¡®çš„ç”¨æˆ·åå’Œå¯†ç ï¼‰å’Œå¼‚å¸¸çš„è¡Œä¸ºï¼ˆè¾“å…¥é”™è¯¯çš„ç”¨æˆ·åå’Œå¯†ç ï¼‰ï¼Œè¿™å°±è¦å‘½äº†ï¼Œéå¸¸ç¹çã€‚

ä½†æœ‰äº† Swagger åï¼Œå¯ä»¥é€šè¿‡ç®€å•çš„é…ç½®ç”Ÿæˆæ¥å£çš„å±•ç¤ºé¡µé¢ï¼ŒæŠŠæ¥å£çš„è¯·æ±‚å‚æ•°ã€è¿”å›ç»“æœé€šè¿‡å¯è§†åŒ–çš„å½¢å¼å±•ç¤ºå‡ºæ¥ï¼Œå¹¶ä¸”æä¾›ä¾¿æ·çš„æµ‹è¯•æœåŠ¡ã€‚
1. å‰ç«¯ç¨‹åºå‘˜å¯ä»¥é€šè¿‡æ¥å£å±•ç¤ºé¡µé¢æŸ¥çœ‹éœ€è¦ä¼ é€’çš„è¯·æ±‚å‚æ•°å’Œè¿”å›çš„æ•°æ®æ ¼å¼ï¼Œä¸éœ€è¦åç«¯ç¨‹åºå‘˜å†ç¼–å†™æ¥å£æ–‡æ¡£äº†ï¼›
2. åç«¯ç¨‹åºå‘˜å¯ä»¥é€šè¿‡æ¥å£å±•ç¤ºé¡µé¢æµ‹è¯•éªŒè¯è‡ªå·±çš„æ¥å£æ˜¯å¦ç¬¦åˆé¢„æœŸï¼Œé™ä½äº†å¼€å‘é˜¶æ®µçš„è°ƒè¯•æˆæœ¬ã€‚
å‰åç«¯åˆ†ç¦»å°±å¾ˆå®Œç¾çš„è½åœ°äº†ï¼Œæœ‰æ²¡æœ‰ï¼Ÿ
> Swagger å®˜ç½‘åœ°å€çœ‹è¿™é‡Œï¼šhttps://swagger.io/

é‚£åœ¨ Swagger å‡ºç°ä¹‹å‰ï¼Œå±€é¢å°±æ¯”è¾ƒç³Ÿç³•ã€‚å‰ç«¯ç»å¸¸æŠ±æ€¨åç«¯ç»™çš„æ¥å£æ–‡æ¡£ä¸å®é™…æƒ…å†µä¸ä¸€è‡´ã€‚åç«¯åˆè§‰å¾—ç¼–å†™åŠç»´æŠ¤æ¥å£æ–‡æ¡£ä¼šè€—è´¹ä¸å°‘ç²¾åŠ›ï¼Œç»å¸¸æ¥ä¸åŠæ›´æ–°ã€‚

Swagger å®šä¹‰äº†ä¸€å¥—è§„èŒƒï¼Œä½ åªéœ€è¦æŒ‰ç…§å®ƒçš„è§„èŒƒå»å®šä¹‰æ¥å£åŠæ¥å£ç›¸å…³çš„ä¿¡æ¯ï¼Œç„¶åé€šè¿‡ Swagger è¡ç”Ÿå‡ºæ¥çš„ä¸€ç³»åˆ—å·¥å…·ï¼Œå°±å¯ä»¥ç”Ÿæˆå„ç§æ ¼å¼çš„æ¥å£æ–‡æ¡£ï¼Œä»¥åŠåœ¨çº¿æ¥å£è°ƒè¯•é¡µé¢ç­‰ç­‰ã€‚

é‚£åªè¦åŠæ—¶æ›´æ–° Swagger çš„æè¿°æ–‡ä»¶ï¼Œå°±å¯ä»¥è‡ªåŠ¨ç”Ÿæˆæ¥å£æ–‡æ¡£äº†ï¼Œåšåˆ°è°ƒç”¨ç«¯ä»£ç ã€æœåŠ¡ç«¯ä»£ç ä»¥åŠæ¥å£æ–‡æ¡£çš„ä¸€è‡´æ€§ã€‚

ä½† Swagger çš„ç•Œé¢éå¸¸ä¸‘é™‹ï¼Œæˆ‘ç»™å¤§å®¶çœ‹ä¸€ä¸‹æ²¡ç”¨ Knife4j ç¾åŒ–æ—¶çš„ç•Œé¢ï¼Œç®€ç›´æ²¡æ³•çœ‹ã€‚ğŸ˜
![image.png](https://raw.githubusercontent.com/OtherGods/MaterialImage/main/img/202307211105482.png)


# 2ã€å…³äºKnife4j
é‰´äºæ­¤ï¼Œæˆ‘ä»¬ç›´æ¥ä¸Š Knife4jï¼ŒKnife4j çš„å‰èº«æ˜¯ swagger-bootstrap-uiï¼Œæ˜¯ springfox-swagger-ui çš„å¢å¼º UI å®ç°ã€‚swagger-bootstrap-ui é‡‡ç”¨çš„æ˜¯å‰ç«¯ UI æ··åˆåç«¯ Java ä»£ç çš„æ‰“åŒ…æ–¹å¼ï¼Œåœ¨å¾®æœåŠ¡çš„åœºæ™¯ä¸‹æ˜¾å¾—éå¸¸è‡ƒè‚¿ï¼Œæ”¹è‰¯åçš„ Knife4j æ›´åŠ å°å·§ã€è½»é‡ï¼Œå¹¶ä¸”åŠŸèƒ½æ›´åŠ å¼ºå¤§ã€‚

æ”¹è‰¯åçš„ Knife4j ä¸ä»…åœ¨ç•Œé¢ä¸Šæ›´åŠ ä¼˜é›…ã€ç‚«é…·ï¼ŒåŠŸèƒ½ä¸Šä¹Ÿæ›´åŠ å¼ºå¤§ï¼šåç«¯ Java ä»£ç å’Œå‰ç«¯ UI æ¨¡å—åˆ†ç¦»äº†å‡ºæ¥ï¼Œåœ¨å¾®æœåŠ¡åœºæ™¯ä¸‹æ›´åŠ çµæ´»ï¼›è¿˜æä¾›äº†ä¸“æ³¨äº Swagger çš„å¢å¼ºè§£å†³æ–¹æ¡ˆã€‚
![image.png](https://raw.githubusercontent.com/OtherGods/MaterialImage/main/img/202307211107456.png)

é™¤æ­¤ä¹‹å¤–ï¼ŒKnife4j è¿˜æ”¯æŒï¼š
1. åœ¨ API æ–‡æ¡£ä¸­ä½¿ç”¨ Markdown è¯­æ³•ï¼Œå¯ä»¥ä½¿æ–‡æ¡£æ›´å…·å¯è¯»æ€§å’Œæ˜“äºç»´æŠ¤ã€‚
2. å°† API æ–‡æ¡£å¯¼å‡ºä¸ºç¦»çº¿çš„ HTMLã€PDF æˆ– Markdown æ–‡ä»¶ï¼Œæ–¹ä¾¿åˆ†äº«ã€‚
3. æ”¯æŒåœ¨ä¸åŒçš„ç¯å¢ƒï¼ˆå¦‚å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç­‰ï¼‰ä¸­ä½¿ç”¨ä¸åŒçš„ API æ–‡æ¡£é…ç½®ã€‚
4. æ”¯æŒåŠ¨æ€å‚æ•°ï¼Œå…è®¸ç”¨æˆ·åœ¨è¿è¡Œæ—¶ä¿®æ”¹ API è¯·æ±‚çš„å‚æ•°ï¼Œæé«˜æµ‹è¯•çš„çµæ´»æ€§ã€‚
![image.png](https://raw.githubusercontent.com/OtherGods/MaterialImage/main/img/202307211110448.png)

ä»¥ä¸‹æ˜¯ Knife4j çš„å®˜æ–¹åœ°å€ï¼š
1. å®˜æ–¹æ–‡æ¡£ï¼šhttps://doc.xiaominfo.com/
2. ç äº‘åœ°å€ï¼šhttps://gitee.com/xiaoym/knife4j
3. ç¤ºä¾‹åœ°å€ï¼šhttps://gitee.com/xiaoym/swagger-bootstrap-ui-demo

# 3ã€æ•´åˆKnife4j

Knife4j å®Œå…¨éµå¾ªäº† Swagger çš„ä½¿ç”¨æ–¹å¼ï¼Œæ‰€ä»¥å¯ä»¥æ— ç¼åˆ‡æ¢ã€‚

## 3.1ã€ç¬¬ä¸€æ­¥ï¼Œæ·»åŠ ä¾èµ–
åœ¨ pom.xml æ–‡ä»¶ä¸­æ·»åŠ  Knife4j çš„ä¾èµ–ã€‚
```xml
<dependency>
    <groupId>com.github.xiaoymin</groupId>
    <artifactId>knife4j-openapi2-spring-boot-starter</artifactId>
    <version>${knife4j.version}</version>
</dependency>
```

ä¸éœ€è¦å†å¼•å…¥ Swagger æ‰€éœ€çš„ springfox-boot-starteräº†ï¼Œå› ä¸º Knife4j çš„ starter é‡Œé¢å·²ç»åŠ å…¥è¿‡äº†ã€‚
![image.png](https://raw.githubusercontent.com/OtherGods/MaterialImage/main/img/202307211113677.png)

## 3.2ã€ç¬¬äºŒæ­¥ï¼Œæ·»åŠ é…ç½®
åˆ›å»ºä¸€ä¸ª Java é…ç½®ç±»ï¼ˆä¾‹å¦‚ Knife4jConfig.javaï¼‰ï¼Œå¹¶ä½¿ç”¨ @EnableKnife4j  æ³¨è§£å¯ç”¨ Knife4jã€‚
```java
@Configuration
@EnableOpenApi
public class SwaggerConfig {
    @Bean
	public Docket docket() 
	{
		Docket docket = new Docket(DocumentationType.OAS_30)
			.apiInfo(apiInfo()).enable(true)
			.select()
			//apisï¼š æ·»åŠ swaggeræ¥å£æå–èŒƒå›´
			.apis(RequestHandlerSelectors.basePackage("www.paicoding.controller"))
			.paths(PathSelectors.any())
			.build();
		return docket;
    }
    private ApiInfo apiInfo() {
        return new ApiInfoBuilder()
                .title("æŠ€æœ¯æ´¾")
                .description("ä¸€ä¸ªåŸºäº Spring Bootã€MyBatis-Plusã€MySQLã€Redisã€ElasticSearchã€MongoDBã€Dockerã€RabbitMQ ç­‰æŠ€æœ¯æ ˆå®ç°çš„ç¤¾åŒºç³»ç»Ÿï¼Œé‡‡ç”¨ä¸»æµçš„äº’è”ç½‘æŠ€æœ¯æ¶æ„ã€å…¨æ–°çš„UIè®¾è®¡ã€æ”¯æŒä¸€é”®æºç éƒ¨ç½²ï¼Œæ‹¥æœ‰å®Œæ•´çš„æ–‡ç« &æ•™ç¨‹å‘å¸ƒ/æœç´¢/è¯„è®º/ç»Ÿè®¡æµç¨‹ç­‰ï¼Œä»£ç å®Œå…¨å¼€æºï¼Œæ²¡æœ‰ä»»ä½•äºŒæ¬¡å°è£…ï¼Œæ˜¯ä¸€ä¸ªéå¸¸é€‚åˆäºŒæ¬¡å¼€å‘/å®æˆ˜çš„ç°ä»£åŒ–ç¤¾åŒºé¡¹ç›®ğŸ‘ ã€‚")
                .contact(new Contact("æ²‰é»˜ç‹äºŒ", "https://paicoding.com","www.qing_gee@163.com"))
                .version("v1.0")
                .build();
    }
}    
```

æˆ–è€…ä½ ä¹Ÿå¯ä»¥ä¸åˆ›å»º Java é…ç½®ç±»ï¼Œé€šè¿‡åœ¨ application.yml æ–‡ä»¶ä¸­è®¾ç½®å±æ€§æ¥è¾¾åˆ°ç›¸åŒçš„ç›®çš„ã€‚

è¿™é‡Œæ˜¯æŠ€æœ¯æ´¾ä¸­é…ç½® Knife4j çš„ç¤ºä¾‹ï¼š
```yml
knife4j:  
  enable: true  
  setting:  
    language: zh-CN  
  openapi:  
    title: æŠ€æœ¯æ´¾  
    description: ä¸€ä¸ªåŸºäº Spring Bootã€MyBatis-Plusã€MySQLã€Redisã€ElasticSearchã€MongoDBã€Dockerã€RabbitMQ ç­‰æŠ€æœ¯æ ˆå®ç°çš„ç¤¾åŒºç³»ç»Ÿï¼Œé‡‡ç”¨ä¸»æµçš„äº’è”ç½‘æŠ€æœ¯æ¶æ„ã€å…¨æ–°çš„UIè®¾è®¡ã€æ”¯æŒä¸€é”®æºç éƒ¨ç½²ï¼Œæ‹¥æœ‰å®Œæ•´çš„æ–‡ç« &æ•™ç¨‹å‘å¸ƒ/æœç´¢/è¯„è®º/ç»Ÿè®¡æµç¨‹ç­‰ï¼Œä»£ç å®Œå…¨å¼€æºï¼Œæ²¡æœ‰ä»»ä½•äºŒæ¬¡å°è£…ï¼Œæ˜¯ä¸€ä¸ªéå¸¸é€‚åˆäºŒæ¬¡å¼€å‘/å®æˆ˜çš„ç°ä»£åŒ–ç¤¾åŒºé¡¹ç›®ğŸ‘ ã€‚  
    version: 1.0.0  
    concat:  
      - ä¸€ç°ç° | æ¥¼ä»” | æ²‰é»˜ç‹äºŒ  
      - https://paicoding.com  
      - https://github.com/itwanger/paicoding  
    license: Apache License 2.0  
    license-url: https://github.com/itwanger/paicoding/blob/main/License  
    email: bangzewu@126.com  
    group:  
      admin:  
        group-name: åå°æ¥å£åˆ†ç»„  
        api-rule: package  
        api-rule-resources:  
          - com.github.paicoding.forum.web.admin  
      front:  
        group-name: å‰å°æ¥å£åˆ†ç»„  
        api-rule: package  
        api-rule-resources:  
          - com.github.paicoding.forum.web.front
```

åœ¨ä»¥å‰çš„ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬éœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­æ‰‹åŠ¨ä½¿ç”¨ @EnableKnife4j æ¥ä½¿ç”¨å¢å¼ºï¼Œè‡ª 2.0.6 ç‰ˆæœ¬åï¼Œåªéœ€è¦åœ¨é…ç½®æ–‡ä»¶ä¸­é…ç½® knife4j.enable=true å³å¯ã€‚

é€ä¸€è§£é‡Šä¸‹è¿™äº›å±æ€§çš„ä½œç”¨ï¼š
	1. â‘ ã€knife4j.enable: è®¾ç½®ä¸º true ä»¥å¯ç”¨ Knife4jï¼Œå°†åœ¨åº”ç”¨ç¨‹åºä¸­å¯ç”¨ Knife4j UIã€‚
	2. â‘¡ã€knife4j.openapi: è¿™ä¸ªå±æ€§åŒ…å«äº† Swagger API æ–‡æ¡£çš„åŸºæœ¬å…ƒæ•°æ®ä¿¡æ¯ï¼Œä¾‹å¦‚æ ‡é¢˜ã€æè¿°ã€ç‰ˆæœ¬ç­‰ã€‚
		1. title: API æ–‡æ¡£çš„æ ‡é¢˜ã€‚
		2. description: API æ–‡æ¡£çš„è¯¦ç»†æè¿°ã€‚
		3. version: API æ–‡æ¡£çš„ç‰ˆæœ¬å·ã€‚
		4. concat: API æ–‡æ¡£çš„ä½œè€…ä¿¡æ¯ã€‚åŒ…æ‹¬ä½œè€…åã€ç½‘ç«™å’Œ GitHub ä»“åº“ã€‚
		5. license: API æ–‡æ¡£çš„è®¸å¯è¯ç±»å‹ã€‚
		6. license-url: API æ–‡æ¡£è®¸å¯è¯çš„é“¾æ¥ã€‚
		7. email: API æ–‡æ¡£ä½œè€…çš„è”ç³»é‚®ç®±ã€‚
	3. â‘¢ã€knife4j.group: å®šä¹‰ API åˆ†ç»„ã€‚è¿™é‡Œæœ‰ä¸¤ä¸ªåˆ†ç»„ï¼šadmin å’Œ frontã€‚
		1. admin: åå°æ¥å£åˆ†ç»„ã€‚
			1. group-name: åˆ†ç»„åç§°ã€‚
			2. api-rule: åˆ†ç»„è§„åˆ™ï¼Œè¿™é‡Œä½¿ç”¨çš„æ˜¯åŒ…è§„åˆ™ã€‚
			3. api-rule-resources: æŒ‡å®šåŒ…åï¼ŒKnife4j å°†æ‰«ææ­¤åŒ…ä¸‹çš„æ‰€æœ‰ API æ¥å£å¹¶å°†å®ƒä»¬æ·»åŠ åˆ°æ­¤åˆ†ç»„ã€‚
		2. front: å‰å°æ¥å£åˆ†ç»„ï¼Œå®ƒä¸‹é¢çš„å±æ€§ä¸å†èµ˜è¿°ï¼Œå’Œ admin ä¸€æ ·ã€‚


## 3.3ã€ç¬¬ä¸‰æ­¥ï¼Œæ·»åŠ Knife4jæ¥å£

```java
@ApiOperation("æµ‹è¯• Knife4j")
@RequestMapping(value ="/testKnife4j", method = RequestMethod.POST)
public String testKnife4j() {
    return "æ²‰é»˜ç‹äºŒåˆå¸…åˆä¸‘";
}
```

è¿™é‡Œè§£é‡Šä¸€ä¸‹ @ApiOperationã€@ApiParamã€@ApiModel  è¿™ä¸‰ä¸ªæ³¨è§£ã€‚

### 3.3.1ã€æ³¨è§£@ApiOperation
ç”¨äºæè¿°ä¸€ä¸ªå…·ä½“çš„ API æ“ä½œã€‚é€šå¸¸ç”¨äºæ ‡æ³¨åœ¨ Controller ç±»çš„æ–¹æ³•ä¸Šã€‚å®ƒæœ‰ä»¥ä¸‹ä¸‰ä¸ªä¸»è¦å±æ€§ï¼š
1. valueï¼šAPI æ“ä½œçš„ç®€çŸ­æè¿°ï¼Œä¼šæ˜¾ç¤ºåœ¨ API æ–‡æ¡£ä¸­ã€‚
2. notesï¼šAPI æ“ä½œçš„è¯¦ç»†æè¿°ï¼Œä¼šæ˜¾ç¤ºåœ¨ API æ–‡æ¡£ä¸­ã€‚
3. tagsï¼šAPI æ“ä½œçš„æ ‡ç­¾ï¼Œç”¨äºå¯¹ API è¿›è¡Œåˆ†ç±»å’Œåˆ†ç»„ã€‚
ä¾‹å¦‚ï¼š
```java
@ApiOperation(value = "è·å–ç”¨æˆ·ä¿¡æ¯", notes = "æ ¹æ®ç”¨æˆ· ID è·å–ç”¨æˆ·è¯¦ç»†ä¿¡æ¯")
```

### 3.3.2ã€æ³¨è§£@ApiParam
ç”¨äºæè¿° API æ“ä½œçš„å‚æ•°ã€‚é€šå¸¸ç”¨äºæ ‡æ³¨åœ¨ Controller ç±»çš„æ–¹æ³•å‚æ•°ä¸Šã€‚å®ƒæœ‰ä»¥ä¸‹ä¸»è¦å±æ€§ï¼š
1. nameï¼šå‚æ•°åç§°ã€‚
2. valueï¼šå‚æ•°æè¿°ã€‚
3. requiredï¼šæŒ‡ç¤ºå‚æ•°æ˜¯å¦æ˜¯å¿…éœ€çš„ï¼Œé»˜è®¤ä¸º falseã€‚
4. defaultValueï¼šå‚æ•°çš„é»˜è®¤å€¼ã€‚
5. allowableValuesï¼šå…è®¸çš„å‚æ•°å€¼èŒƒå›´ã€‚
ä¾‹å¦‚ï¼š
```java
public ResponseEntity<User> getUser(@ApiParam(value = "ç”¨æˆ· ID", required = true) @PathVariable("id") Long id) {
    // ...
}
```

### 3.3.3ã€æ³¨è§£@ApiModel
ç”¨äºæè¿°ä¸€ä¸ª API æ“ä½œè¿”å›çš„æ•°æ®æ¨¡å‹æˆ–è¯·æ±‚æ•°æ®æ¨¡å‹ã€‚é€šå¸¸ç”¨äºæ ‡æ³¨åœ¨å®ä½“ç±»æˆ– DTO ç±»ä¸Šã€‚å®ƒæœ‰ä»¥ä¸‹ä¸»è¦å±æ€§ï¼š
1. valueï¼šæ¨¡å‹åç§°ã€‚
2. descriptionï¼šæ¨¡å‹æè¿°ã€‚
ä¾‹å¦‚ï¼š
```java
@ApiModel(value = "ç”¨æˆ·", description = "ç”¨æˆ·è¯¦ç»†ä¿¡æ¯")
public class User {
    // ...
}
```

## 3.3.4ã€ç¬¬å››æ­¥ï¼ŒéªŒè¯

è¿è¡Œé¡¹ç›®ï¼Œç„¶ååœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥ http://localhost:8080/doc.html å°±å¯ä»¥çœ‹åˆ° API æ–‡æ¡£äº†ã€‚
![image.png](https://raw.githubusercontent.com/OtherGods/MaterialImage/main/img/202307211145177.png)

å·¦ä¾§èœå•æ˜¯å¯¹åº”çš„æ–‡æ¡£ç›®å½•ï¼Œæ‰¾åˆ°ä¹‹å‰æ·»åŠ çš„ test æ¥å£ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚
![image.png](https://raw.githubusercontent.com/OtherGods/MaterialImage/main/img/202307211149355.png)

ç‚¹å‡»è°ƒè¯•çš„é€‰é¡¹å¡ï¼Œç„¶åç‚¹å‡»å‘é€ï¼Œå°±å¯ä»¥ç›´æ¥æµ‹è¯•ï¼Œçœ‹åˆ°è¿”å›çš„å“åº”ç»“æœäº†ã€‚
![image.png](https://raw.githubusercontent.com/OtherGods/MaterialImage/main/img/202307211149687.png)



# 4ã€Knife4jçš„ä¼˜ç‚¹

Knife4j åœ¨ Swagger çš„åŸºç¡€ä¸Šå¢åŠ äº†ä¸€äº›å®ç”¨åŠŸèƒ½ï¼Œä¼˜åŒ–äº† UI ç•Œé¢ï¼Œä½¿å¾— API æ–‡æ¡£æ›´å…·å¯è¯»æ€§å’Œæ˜“ç”¨æ€§ã€‚ç®€å•æ¥ä»‹ç»ä¸‹ Knife4j çš„ åŠŸèƒ½ç‰¹ç‚¹ï¼š

## 4.1ã€ç”Ÿäº§ç¯å¢ƒå±è”½
å¦‚æœæˆ‘ä»¬éœ€è¦åœ¨ç”Ÿäº§ç¯å¢ƒä¸‹å±è”½ Swagger çš„ç›¸å…³èµ„æºï¼Œåªéœ€è¦åœ¨ application.yml ä¸­æ·»åŠ è¿™æ ·ä¸€ä¸ªé…ç½®å³å¯ã€‚

```yml
# å¼€å¯ç”Ÿäº§ç¯å¢ƒå±è”½
production: true
```

é‡‡å‘æç¤ºï¼Œé…ç½®ä¸­è‡³å°‘éœ€è¦æœ‰ä¸€ä¸ª knife4j.setting é€‰é¡¹ã€‚æ¯”å¦‚è¯´ï¼š
```yml
knife4j:
  setting:
    language: zh-CN
```
å¦åˆ™ä¼šç›´æ¥æŠ¥é”™

## 4.2ã€è®¿é—®é¡µé¢åŠ æƒæ§åˆ¶
é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰çš„ç”¨æˆ·éƒ½å¯ä»¥æ— é™åˆ¶è®¿é—® doc.htmlï¼Œä¹Ÿå°±æ˜¯ Knife4j ä¸»é¡µï¼Œå¦‚æœéœ€è¦å¢åŠ æƒé™ï¼Œå¯ä»¥åœ¨ application.yml æ–‡ä»¶ä¸­æ·»åŠ  Basicè®¤è¯åŠŸèƒ½ã€‚
```yml
basic:
  enable: true
  # é…ç½®Basicè®¤è¯çš„ç”¨æˆ·åå’Œå¯†ç 
  username: admin
  password: 123456
```
ç„¶ååœ¨è®¿é—®APIçš„æ—¶å€™å°±éœ€è¦ç”¨æˆ·åå’Œå¯†ç ç™»å½•äº†ã€‚

## 4.3ã€æ”¯æŒafterScript

é’ˆå¯¹ JWT ç±»å‹çš„æ¥å£ï¼Œè°ƒç”¨ç™»å½•æ¥å£åï¼Œæ¯ä¸ªæ¥å£è¯·æ±‚æ—¶éœ€è¦å¸¦ä¸ŠTokenå‚æ•°ï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡è„šæœ¬åŠ¨æ€èµ‹å€¼å…¨å±€ token å‚æ•°ï¼Œçœå»å¤åˆ¶ç²˜è´´çš„éº»çƒ¦ã€‚

```js
var code=ke.response.data.code;
if(code==8200){
    //åˆ¤æ–­,å¦‚æœæœåŠ¡ç«¯å“åº”codeæ˜¯8200æ‰æ‰§è¡Œæ“ä½œ
    //è·å–token
    var token=ke.response.data.data.token;
    //1ã€å¦‚æœå‚æ•°æ˜¯Headerï¼Œåˆ™è®¾ç½®å½“å‰é€»è¾‘åˆ†ç»„ä¸‹çš„å…¨å±€Header
    ke.global.setHeader("token",token);

}
```

## 4.4ã€æ”¯æŒå…¨å±€å‚æ•°
å½“æŸäº›è¯·æ±‚éœ€è¦å…¨å±€å‚æ•°æ—¶ï¼Œè¿™ä¸ªåŠŸèƒ½å°±å¾ˆå®ç”¨äº†ï¼Œå¯ä»¥åœ¨å·¦ä¾§èœå•ã€Œæ–‡æ¡£ç®¡ç†ã€ä¸­æ‰¾åˆ°è¯¥åŠŸèƒ½ã€‚Knife4j æ”¯æŒ header å’Œ query ä¸¤ç§æ–¹å¼ã€‚

![image.png](https://raw.githubusercontent.com/OtherGods/MaterialImage/main/img/202307211158887.png)


## 4.5ã€æ”¯æŒç¦»çº¿æ–‡æ¡£
Knife4j æ”¯æŒæŠŠ API æ–‡æ¡£å¯¼å‡ºä¸ºç¦»çº¿æ–‡æ¡£ï¼ˆæ”¯æŒ markdown æ ¼å¼ã€HTML æ ¼å¼ã€Word æ ¼å¼ç­‰ï¼‰ã€‚
![image.png](https://raw.githubusercontent.com/OtherGods/MaterialImage/main/img/202307211158118.png)


## 4.6ã€æ”¯æŒJSONæŠ˜å 
Swagger æ˜¯ä¸æ”¯æŒ JSON æŠ˜å çš„ï¼Œå½“è¿”å›çš„ä¿¡æ¯éå¸¸å¤šçš„æ—¶å€™ï¼Œç•Œé¢å°±ä¼šæ˜¾å¾—éå¸¸çš„è‡ƒè‚¿ã€‚Knife4j åˆ™ä¸åŒï¼Œå¯ä»¥å¯¹è¿”å›çš„ JSON èŠ‚ç‚¹è¿›è¡ŒæŠ˜å ã€‚
![image.png](https://raw.githubusercontent.com/OtherGods/MaterialImage/main/img/202307211159498.png)


## 4.7ã€æ”¯æŒæœç´¢APIæ¥å£
Swagger æ˜¯æ²¡æœ‰æœç´¢åŠŸèƒ½çš„ï¼Œå½“è¦æµ‹è¯•çš„æ¥å£æœ‰å¾ˆå¤šçš„æ—¶å€™ï¼Œå½“éœ€è¦å»æ‰¾æŸä¸€ä¸ª API çš„æ—¶å€™å°±å‚»çœ¼äº†ï¼Œåªèƒ½ä¸€ä¸ªä¸ªå»æ‹–åŠ¨æ»šåŠ¨æ¡å»æ‰¾ã€‚åœ¨æ–‡æ¡£çš„å³ä¸Šè§’ï¼ŒKnife4j æä¾›äº†æ–‡æ¡£æœç´¢åŠŸèƒ½ï¼Œè¾“å…¥è¦æŸ¥è¯¢çš„å…³é”®å­—ï¼Œå°±å¯ä»¥æ£€ç´¢ç­›é€‰äº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆæ–¹ä¾¿ï¼Ÿ
![image.png](https://raw.githubusercontent.com/OtherGods/MaterialImage/main/img/202307211159413.png)
ç›®å‰æ”¯æŒæœç´¢æ¥å£çš„åœ°å€ã€åç§°å’Œæè¿°ã€‚

# 5ã€å°¾å£°

é™¤äº†ä¸Šé¢æåˆ°çš„è¿™äº›ï¼ŒKnife4j è¿˜æä¾›äº†å¾ˆå¤šå¢å¼ºçš„å®ç”¨å±æ€§ã€‚å¤§å®¶å¯ä»¥é€šè¿‡ Knife4j çš„å®˜ç½‘å»å­¦ä¹ å’Œä½“éªŒï¼Œæˆ‘è¿™é‡Œå°±ä¸å†ä¸€ä¸€ä»‹ç»äº†ã€‚

![image.png](https://raw.githubusercontent.com/OtherGods/MaterialImage/main/img/202307211159541.png)
