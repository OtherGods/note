面试的时候，有的面试官认为引入Seata实现分布式事务，这个方案太重了，比如 全局事务锁导致的抢占阻塞问题，额外引入回滚日志，依赖协调者。那么这个问题该如何回答呢？

首先，方案的轻还是重我觉得是相对的，对于一些普通项目，比如社区，论坛这类，无所谓，用个mq我都觉得重。但是对于支付这个场景，我们的项目中，经用的是at模式了，at已经是比较轻的模式了，要知道蚂蚁内部这种场景都是直接上2阶段的。

我们的seata用在的是支付成功处理的这个场景，这个场景的特点就是参与者很多，订单、支付、藏品好多个模块都需要参与，这么多参与者不适合用MQ，那就排除了各种基于MQ的方案，那剩下的能保证比较高的一致性的，也就是AT、TCC这些了。相比之下TCC侵入性比较高，所以 AT已经算是首选了。

而AT模式相比MQ的方案，一致性也要更好一些，对于支付这个场景，一致性还是很重要的。而事务消息适用于消息参与者少的情况，消息参与者多了失败的概率会高【视频评论区有人说的】回滚也不好做。

所以就看取舍了，想要更好的一致性，就需要引入协调者，at模式相比xa已经很轻很轻了。

如果说方案轻，那数据对账+人工介入的方案最轻，代码都不用写。但是他一致性不好呀，业务上不可接受呀。所以这个我觉得还是看具体场景，所以我们项目里用了四种不同的一致性方案，也是想表达这个架构思想，就是合适的才是最好的。

或者极端一点，干脆不做微服务，不做分布式，一个单体走天下，这个最轻了，啥都不用，什么分布式锁，分布式事务的，都不需要考虑。

但是他带来的是单点问题，伸缩性问题。就看你能不能接受了。就是选择一个方案，就看优点能解决你问题，缺点你能接受，那就算合适。
