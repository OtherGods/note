在我们项目中，库存扣减的过程是先在 Redis做扣减，然后再异步到数据库做扣减。

但是我们的实现方案是通过 SpringEvent做驱动的，而不是用 MQ，为啥呢？
[1、基于SpringEvent+XXL-JOB实现订单确认自动推进](2、相关技术/24、项目/3、数藏项目/8、最佳实践/4、订单管理/1、基于SpringEvent+XXL-JOB实现订单确认自动推进.md)

答案不是不行，肯定是可以的，而且市面上很多公司做秒杀确实也是用 MQ 的比较多，基于 MQ 来做削峰填谷，利用 MQ 的队列机制来减少数据库的压力。

主要原因是我们的做数据库扣减这里，依赖了阿里云上 DMS 提供的 Inventory Hint 的机制，说白了就是这里不用 MQ 做缓冲数据库也能扛得住，所以就干脆不用了。
[4、基于InventoryHint实现库存的热点扣减](2、相关技术/24、项目/3、数藏项目/8、最佳实践/2、秒杀（热点扣减）/4、基于InventoryHint实现库存的热点扣减.md)

因为如果用MQ，就会引入一些其他的问题，比如延迟到问题，MQ 的不可靠的问题。增加一个组件，就会给整个系统的可用性带来一个风险点。

**如果不用Inventory Hint 呢？有没有其他的方案呢？**

有！为了满足有些场景无法用 Inventory Hint，我们项目中还有一套**基于 MQ 的方案：**
[3、基于Redis+MQ+数据库实现高并发扣减](2、相关技术/24、项目/3、数藏项目/8、最佳实践/2、秒杀（热点扣减）/3、基于Redis+MQ+数据库实现高并发扣减.md)


