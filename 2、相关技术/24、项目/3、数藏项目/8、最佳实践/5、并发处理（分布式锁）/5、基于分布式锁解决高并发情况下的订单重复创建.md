```java
@Override  
@DistributeLock(keyExpression = "#request.identifier", scene = "ORDER_CREATE")  
@Facade  
public OrderResponse create(OrderCreateRequest request) {  
    try {  
        orderValidatorChain.validate(request);  
    } catch (OrderException e) {  
        return new OrderResponse.OrderResponseBuilder().buildFail(ORDER_CREATE_VALID_FAILED.getCode(), e.getErrorCode().getMessage());  
    }  
      
    InventoryRequest inventoryRequest = new InventoryRequest(request);  
    SingleResponse<Boolean> decreaseResult = inventoryFacadeService.decrease(inventoryRequest);  
      
    if (decreaseResult.getSuccess()) {  
        return orderService.create(request);  
    }  
    throw new OrderException(OrderErrorCode.INVENTORY_DECREASE_FAILED);  
}
```

以上，是我们的`OrderFacadeServiceImpl`中的创建订单的实现方法，大家注意下这里用了一个`@DistributeLock`，这其实是我们的分布式锁的组件。

[11、通用分布式锁注解实现](2、相关技术/24、项目/3、数藏项目/6、通用设计/11、通用分布式锁注解实现.md)

这里是针对用户传进来的 `identifier` 做锁，防止请求重复，消息重放等等场景导致的订单重复创建。
