我们的项目中有很多定时任务，那么他们的调度方式和时间间隔都如何配置的？

首先，定时任务的时间间隔，一般都是基于业务要求来配置的，因为定时任务意味着要定时执行，就是会存在延时，所以要看业务上能接受的延迟是多久。不能比这个时间更长。而且随着业务量的不一样，时间间隔可能也要有所调整。

### 订单模块

orderConfirmExecute，用于推进订单状态从 Create 到 Confirm，首先失败概率比较低，并且对实时性要求比较高，所以设置5-10s 执行一次。
![image.png](https://raw.githubusercontent.com/OtherGods/MaterialImage/main/img/202502161656332.png)

![image.png](https://raw.githubusercontent.com/OtherGods/MaterialImage/main/img/202502161656828.png)

orderTimeOutExecute，订单超时关单任务，推进订单状态到关单状态。因为我们有主动关单，支付环节也有时间检查，所以这里不需要太频繁，可以设置5-10分钟执行一次即可。
![image.png](https://raw.githubusercontent.com/OtherGods/MaterialImage/main/img/202502161658179.png)

![image.png](https://raw.githubusercontent.com/OtherGods/MaterialImage/main/img/202502161658699.png)

### 通知模块

noticeSendRetryJob，用于消息通知的重试，设置1分钟执行一次即可。其实大多数都是空跑，所以影响也不大
![image.png](https://raw.githubusercontent.com/OtherGods/MaterialImage/main/img/202502161659454.png)

### 区块链模块

unFinishOperateExecute，用于调外部链平台操作失败重试，设置5分钟执行一次即可。
![image.png](https://raw.githubusercontent.com/OtherGods/MaterialImage/main/img/202502161659499.png)

### 支付模块

payTimeOutExecute，支付单超时关单任务，这个因为外部的支付渠道他们自己也会又超时机制，有的还会有超时消息给过来，所以这里的时间不需要太频繁，设置个10分钟都行，或者设置半小时都可以。





