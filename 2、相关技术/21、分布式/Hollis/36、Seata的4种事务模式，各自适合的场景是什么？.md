[20、Seata的实现原理是什么](2、相关技术/21、分布式/Hollis/20、Seata的实现原理是什么.md)

- AT模式
- TCC模式
- Saga模式
- XA模式

# AT模式

首先 <font color = "red" size=5>AT模式</font> ，它的**优点**就是没有侵入性，你只需要按照Seata的要求引入`@GlobalTransaction`注解，就可以实现你的分布式事务了，他不需要做额外的操作，你只需要关注你的业务逻辑即可。
[35、Seata的AT模式的实现原理](2、相关技术/21、分布式/Hollis/35、Seata的AT模式的实现原理.md)

但是他的 **局限性** 就是只能支持那种具有ACID属性的关系型数据库的操作，比如MySQL，因为他要基于日志进行回滚。如果你的项目中，需要把写数据库和写Redis放到同一个分布式事务中，AT模式就不支持了。

# TCC模式

其次是 <font color = "red" size=5>TCC模式</font> ，这种模式可以支持多数据源的情况，不管你是Redis、MySQL还是ES，反正他就是要你自己实现Try、Confirm和Cancel，具体的逻辑你自己写，提交、回滚的代码你自己来实现就行了，所以他对代码有一定的侵入性。
- [9、什么是TCC，和2PC有什么区别？](2、相关技术/21、分布式/Hollis/9、什么是TCC，和2PC有什么区别？.md)
- 手动实现TCC：[4、引入TCC实现普通交易环节订单和库存的一致性](2、相关技术/24、项目/3、数藏项目/8、最佳实践/6、数据一致性（分布式事务）/4、引入TCC实现普通交易环节订单和库存的一致性.md)

# Saga模式

还有就是 <font color = "red" size=5>Saga这种模式</font> ，它适合长事务，什么是长事务呢？就是那种你有外部交互的场景，比如你要调微信支付，就可以用这种模式来管理这个分布式事务。

# XA模式

以上三种都是最终一致性，而 <font color = "red" size=5>XA模式</font> 这种就适合于你对一致性要求非常高的场景，只有他是一种强一致性模型。
[37、Seata的AT模式和XA有什么区别？](2、相关技术/21、分布式/Hollis/37、Seata的AT模式和XA有什么区别？.md)

# 对比

|       | XA              | AT                  | TCC                       |
| ----- | --------------- | ------------------- | ------------------------- |
| 一致性   | 强一致性            | 弱一致性                | 弱一致性                      |
| 隔离性   | 完全隔离            | 基于全局锁隔离             | 基于资源预留隔离                  |
| 代码侵入性 | 无               | 无                   | 有，要编写TCC三个接口              |
| 性能    | 差               | 高                   | 非常高                       |
| 适用场景  | 对一致性、隔离性要求较高的场景 | 基于关系型数据库的大多数分布式事务场景 | 对性能要求较高的场景，有非关系型数据库要参与的事务 |

